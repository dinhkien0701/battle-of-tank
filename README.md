# Tank Of Battle
 * Link demo game :
 * PhÃ¡ Ä‘áº£o game : chÆ°a cÃ³
## Giá»›i thiá»‡u
 Tá»±a game 2D Ä‘Æ¡n giáº£n , ngÆ°á»i chÆ¡i sáº½ Ä‘iá»u khiá»ƒn xe tÄƒng Ä‘á»ƒ tiÃªu diá»‡t xe tÄƒng Ä‘á»‹ch nháº±m Ä‘áº¡t Ä‘iá»ƒm cao nháº¥t cÃ³ thá»ƒ

## HÆ°á»›ng dáº«n cÃ i Ä‘áº·t game 
### [Truy cáº­p vÃ o Releases Ä‘á»ƒ táº£i game ](https://github.com/dinhkien0701/battle-of-tank/releases)

* BattleOfTank_Setup.exe : Táº£i game vá» cÃ i Ä‘áº·t vÃ  chÆ¡i luÃ´n
* Source.Code.to.Build.App.zip : PhiÃªn báº£n chá»©a cáº£ file Setup Ä‘á»ƒ cÃ i game kÃ¨m mÃ£ nguá»“n Ä‘Ã£ Ä‘Æ°á»£c thay Ä‘á»•i Ä‘á»ƒ cÃ³ thá»ƒ táº¡o á»©ng dá»¥ng hoÃ n chá»‰nh
* Battle.Of.Tank.zip : phiÃªn báº£n mÃ£ nguá»“n gá»‘c cá»§a game , chÆ°a tÃ¹y biáº¿n vÃ  cÃ³ thá»ƒ chÆ¡i 


## HÆ°á»›ng dáº«n chÆ¡i game
* Má»—i ngÆ°á»i chÆ¡i sáº½ báº¯t Ä‘áº§u vá»›i 3 máº¡ng , viá»‡c vÆ°á»£t qua má»—i level sáº½ giÃºp ngÆ°á»i chÆ¡i  tÄƒng thÃªm má»™t máº¡ng 
* NgÆ°á»i chÆ¡i cÃ³ thá»ƒ Ä‘iá»u khiá»ƒn di chuyá»ƒn theo bá»‘n hÆ°á»›ng  W(lÃªn) , S (xuá»‘ng) , A(trÃ¡i) , D(pháº£i) Ä‘á»ƒ di chuyá»ƒn ( cÃ³ thá»ƒ dÃ¹ng phÃ­m mÅ©i tÃªn Ä‘á»ƒ di chuyá»ƒn )
* Sá»­ dá»¥ng phÃ­m SPACE Ä‘á»ƒ  báº¯n Ä‘áº¡n táº¥n cÃ´ng Ä‘á»‹ch
* Nháº¥n phÃ­m P Ä‘á»ƒ  Táº M Dá»ªNG / TIáº¾P Tá»¤C chÆ¡i game 
* Nháº¥n phÃ­m M Ä‘á»ƒ thoÃ¡t khá»i vÃ¡n Ä‘áº¥u , trá»Ÿ vá» mÃ n hÃ¬nh  MENU
* Bá»‹ Ä‘áº¡n Ä‘á»‹ch trÃºng sáº½ máº¥t má»™t máº¡ng , khi sá»‘ máº¡ng vá» 0 sáº½ coi nhÆ° káº¿t thÃºc vÃ¡n Ä‘áº¥u
* Äáº¡n cá»§a nhÃ¢n váº­t trÃºng Ä‘á»‹ch sáº½  tiÃªu diá»‡t káº» Ä‘á»‹ch Ä‘Ã³ , cÃ¡c bá»©c tÆ°á»ng chá»‹u tá»‘i Ä‘a 3 láº§n trÃºng Ä‘áº¡n , sau khi trÃºng Ä‘áº¡n láº§n thá»© 3 tÆ°á»ng sáº½ sáº­p!

# CÆ¡ cháº¿ cá»§a game

- [Äá»‘i tÆ°á»£ng](#Äá»‘i-tÆ°á»£ng)
- [TÆ°Æ¡ng tÃ¡c cá»§a Ä‘á»‘i tÆ°á»£ng ](#TÆ°Æ¡ng-tÃ¡c-cá»§a-Ä‘á»‘i-tÆ°á»£ng )

## Äá»‘i tÆ°á»£ng
### [Cáº¥u trÃºc cá»§a Ä‘á»‘i tÆ°á»£ng - xem code](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.h#L9-L103)

1. [NhÃ¢n váº­t (Xe tÄƒng ngÆ°á»i chÆ¡i)](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.h#L23-L30)
* NhÃ¢n váº­t trong trÃ² chÆ¡i Ä‘Æ°á»£c Ä‘á»‹nh danh thÃ´ng qua id
  
* [attribute = 2] : Ä‘Ã¢y lÃ  thuá»™c tÃ­nh Ä‘Æ°á»£c khá»Ÿi táº¡o Ä‘á»ƒ phÃ¢n biá»‡t nÃ³ vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c

* [angle]: Xe tÄƒng luÃ´n báº¯t Ä‘áº§u á»Ÿ hÆ°á»›ng 270 Ä‘á»™ (hÆ°á»›ng Báº¯c), xÃ¡c Ä‘á»‹nh gÃ³c mÃ  xe tÄƒng di chuyá»ƒn hoáº·c báº¯n.

* [clock]: CÆ¡ cháº¿ báº¯n cá»§a nhÃ¢n váº­t tÃ­ch Ä‘á»§ 15 khung hÃ¬nh (FPS) Ä‘á»ƒ thá»±c hiá»‡n má»™t láº§n báº¯n, mang láº¡i cáº£m giÃ¡c hÃ nh Ä‘á»™ng liÃªn tá»¥c nhÆ°ng cÃ³ kiá»ƒm soÃ¡t.

* [defense]: GiÃ¡p báº£o vá»‡, giÃºp xe tÄƒng chá»‘ng chá»‹u sÃ¡t thÆ°Æ¡ng.

* [Vá»‹ trÃ­ (rect)]: ÄÆ°á»£c lÆ°u trá»¯ trong má»™t hÃ¬nh chá»¯ nháº­t SDL (SDL_Rect), Ä‘áº¡i diá»‡n cho tá»a Ä‘á»™ vÃ  kÃ­ch thÆ°á»›c trÃªn mÃ n hÃ¬nh.

2. [Äá»‹ch (Xe tÄƒng Ä‘á»‹ch)](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.h#L31-L43) :Äá»‘i vá»›i xe tÄƒng Ä‘á»‹ch, OBJ thÃªm vÃ o cÃ¡c hÃ nh vi Ä‘á»™c Ä‘Ã¡o vÃ  thÃ´ng minh:

* [attribute = 1] : Äá»‹nh danh Ä‘Ã¢y lÃ  má»™t Ä‘á»‘i tÆ°á»£ng Ä‘á»‹ch.

* [rand_shot] : CÆ¡ cháº¿ báº¯n ngáº«u nhiÃªn Ä‘Æ°á»£c khá»Ÿi táº¡o, vá»›i thá»i gian báº¯n Ä‘á»‹nh ká»³ má»—i 2 giÃ¢y, táº¡o nÃªn sá»± báº¥t ngá» vÃ  thÃ¡ch thá»©c.

* [HÆ°á»›ng di chuyá»ƒn - angle ] : Äá»‹ch Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i gÃ³c 270 Ä‘á»™ vÃ  thá»i gian thay Ä‘á»•i hÆ°á»›ng thÃ´ng qua clock, sinh ngáº«u nhiÃªn Ä‘á»ƒ Ä‘áº£m báº£o hÃ nh Ä‘á»™ng linh hoáº¡t.

* [Vá»‹ trÃ­ (rect)] : Tá»a Ä‘á»™ vÃ  kÃ­ch thÆ°á»›c cá»§a Ä‘á»‹ch Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a giÃºp dá»… dÃ ng hiá»ƒn thá»‹ vÃ  kiá»ƒm tra va cháº¡m vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c.

3. [Váº­t cáº£n (TÆ°á»ng)](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.h#L45-L53) :TÆ°á»ng Ä‘Ã³ng vai trÃ² nhÆ° chÆ°á»›ng ngáº¡i váº­t trong trÃ² chÆ¡i

* [attribute = 3]: Thuá»™c tÃ­nh xÃ¡c Ä‘á»‹nh Ä‘Ã¢y lÃ  tÆ°á»ng.

* [defense] : TÆ°á»ng báº¯t Ä‘áº§u vá»›i giÃ¡p lÃ  3, yÃªu cáº§u ngÆ°á»i chÆ¡i hoáº·c Ä‘á»‹ch pháº£i phÃ¡ há»§y Ä‘á»ƒ di chuyá»ƒn qua.

* [rect] : Äá»‹nh nghÄ©a vá»‹ trÃ­ vÃ  kÃ­ch thÆ°á»›c cá»§a tÆ°á»ng trÃªn mÃ n hÃ¬nh.

* => Vai trÃ²: TÆ°á»ng thÃªm chiá»u sÃ¢u chiáº¿n thuáº­t báº±ng cÃ¡ch cáº£n trá»Ÿ di chuyá»ƒn cá»§a cÃ¡c Ä‘á»‘i tÆ°á»£ng.

4. [Äáº¡n](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.h#L54-L79)  ( Äáº¡n Ä‘Æ°á»£c sinh ra tá»« cáº£ nhÃ¢n váº­t vÃ  Ä‘á»‹ch Ä‘á»ƒ táº¡o ra hÃ nh Ä‘á»™ng )

* [rect]  : KÃ­ch thÆ°á»›c nhá» gá»n (10x10) vÃ  tá»a Ä‘á»™ khá»Ÿi táº¡o dá»±a trÃªn vá»‹ trÃ­ vÃ  gÃ³c cá»§a Ä‘á»‘i tÆ°á»£ng báº¯n.

* [angle] : HÆ°á»›ng cá»§a viÃªn Ä‘áº¡n phá»¥ thuá»™c hoÃ n toÃ n vÃ o gÃ³c báº¯n cá»§a Ä‘á»‘i tÆ°á»£ng táº¡o ra nÃ³.

* [attribute] : Loáº¡i Ä‘áº¡n Ä‘Æ°á»£c liÃªn káº¿t vá»›i loáº¡i Ä‘á»‘i tÆ°á»£ng (vÃ­ dá»¥: Ä‘áº¡n cá»§a Ä‘á»‹ch khÃ¡c vá»›i Ä‘áº¡n cá»§a ngÆ°á»i chÆ¡i) .

5. [CÃ¡c chá»©c nÄƒng há»— trá»£](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.h#L81-L103)
   
* `xoa_obj()` : XÃ³a Ä‘á»‘i tÆ°á»£ng khá»i trÃ² chÆ¡i báº±ng cÃ¡ch Ä‘áº·t id = -1, biá»ƒu thá»‹ ráº±ng Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ bá»‹ loáº¡i bá» ( gáº§n nhÆ° khÃ´ng dÃ¹ng :]] )

* `tiep_xuc()` : Kiá»ƒm tra va cháº¡m giá»¯a hai Ä‘á»‘i tÆ°á»£ng, tá»« xe tÄƒng cháº¡m vÃ o tÆ°á»ng cho Ä‘áº¿n Ä‘áº¡n cháº¡m vÃ o Ä‘á»‹ch.

* `print_obj()` : Hiá»ƒn thá»‹ Ä‘á»‘i tÆ°á»£ng lÃªn mÃ n hÃ¬nh vá»›i gÃ³c xoay vÃ  vá»‹ trÃ­ chÃ­nh xÃ¡c.

### [Khá»Ÿi táº¡o báº£n Ä‘á»“ Ä‘á»‘i tÆ°á»£ng - xem code](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.cpp#L34-L141)

#### XÃ¢y dá»±ng báº£n Ä‘á»“ ban Ä‘áº§u:
[HÃ m `map_khoi_dong`](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.cpp#L51-L139) Ä‘áº£m nháº­n viá»‡c táº¡o ra má»™t báº£n Ä‘á»“ gá»“m cÃ¡c Ä‘á»‘i tÆ°á»£ng nhÆ° nhÃ¢n váº­t chÃ­nh, Ä‘á»‹ch, vÃ  tÆ°á»ng. Má»—i Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c Ä‘á»‹nh vá»‹ theo level hiá»‡n táº¡i, giÃºp game tÄƒng Ä‘á»™ khÃ³ theo thá»i gian. 

**CÃ¡c bÆ°á»›c táº¡o báº£n Ä‘á»“ bao gá»“m trong hÃ m `map_khoi_dong` :**
- **Cáº¥p tháº¥p (Level < 3):** Vá»‹ trÃ­ nhÃ¢n váº­t chÃ­nh vÃ  Ä‘á»‹ch Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a cá»¥ thá»ƒ. TÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t táº¡i cÃ¡c vá»‹ trÃ­ cá»‘ Ä‘á»‹nh, dá»… dÃ ng cho ngÆ°á»i chÆ¡i lÃ m quen.
- **Cáº¥p Ä‘á»™ cao (Level â‰¥ 4):** Vá»‹ trÃ­ nhÃ¢n váº­t chÃ­nh vÃ  Ä‘á»‹ch Ä‘Æ°á»£c sinh ngáº«u nhiÃªn, Ä‘áº£m báº£o sá»± Ä‘a dáº¡ng. TÆ°á»ng Ä‘Æ°á»£c khá»Ÿi táº¡o vá»›i sá»‘ lÆ°á»£ng tÄƒng theo level, tá»‘i Ä‘a 260 bá»©c tÆ°á»ng vÃ  tá»‘i Ä‘a 30 káº» Ä‘á»‹ch.
- **Game coi nhÆ° má»™t game vÃ´ háº¡n cáº¥p Ä‘á»™ má»¥c tiÃªu tiÃªu diá»‡t cÃ ng nhiá»u cÃ ng tá»‘t xe tÄƒng Ä‘á»‹ch**
  
#### **[HÃ m `dfs_map` - Sinh cÃ¡c bá»©c tÆ°á»ng ngáº«u nhiÃªn](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.cpp#L38-L50)**

HÃ m `dfs_map` Ä‘áº£m nháº­n nhiá»‡m vá»¥ sinh cÃ¡c bá»©c tÆ°á»ng trong báº£n Ä‘á»“ má»™t cÃ¡ch ngáº«u nhiÃªn, Ä‘áº£m báº£o má»—i mÃ n chÆ¡i Ä‘á»u mang láº¡i sá»± má»›i máº» vÃ  thá»­ thÃ¡ch. DÆ°á»›i Ä‘Ã¢y lÃ  chi tiáº¿t tá»«ng bÆ°á»›c hoáº¡t Ä‘á»™ng cá»§a hÃ m:

1. **ÄÃ¡nh dáº¥u Ã´ hiá»‡n táº¡i lÃ  tÆ°á»ng:**
   - Khi hÃ m Ä‘Æ°á»£c gá»i táº¡i vá»‹ trÃ­ `(i, j)`, Ã´ Ä‘Ã³ sáº½ Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u lÃ  tÆ°á»ng:
     ```cpp
     map_of_level[i][j] = 1; // ÄÃ¡nh dáº¥u Ã´ hiá»‡n táº¡i lÃ  tÆ°á»ng (1).
     ```

2. **Sinh sá»‘ nhÃ¡nh má»Ÿ rá»™ng ngáº«u nhiÃªn:**
   - HÃ m sinh tá»« 1 Ä‘áº¿n 3 nhÃ¡nh ngáº«u nhiÃªn tá»« Ã´ hiá»‡n táº¡i, sá»­ dá»¥ng cÃ´ng thá»©c:
     ```cpp
     for (int num = rand() % 3 + 1; num > 0; num--) { ... }
     ```

3. **Kiá»ƒm tra Ä‘iá»u kiá»‡n má»Ÿ rá»™ng:**
   - CÃ¡c Ä‘iá»u kiá»‡n sau giÃºp kiá»ƒm soÃ¡t logic má»Ÿ rá»™ng:
     - **`res == 2`:** Giá»›i háº¡n sá»‘ nhÃ¡nh tá»‘i Ä‘a tá»« má»—i Ã´ lÃ  2, trÃ¡nh táº¡o cáº¥u trÃºc tÆ°á»ng quÃ¡ phá»©c táº¡p.
     - **`total >= max_total`:** Ngá»«ng táº¡o tÆ°á»ng náº¿u tá»•ng sá»‘ Ä‘Ã£ Ä‘áº¡t giá»›i háº¡n tá»‘i Ä‘a.

4. **Sinh bÆ°á»›c dá»‹ch chuyá»ƒn ngáº«u nhiÃªn:**
   - Dá»‹ch chuyá»ƒn sang cÃ¡c Ã´ gáº§n ká» theo tá»a Ä‘á»™ `(x, y)` ngáº«u nhiÃªn:
     ```cpp
     int x = rand() % 2 - rand() % 2; // Dá»‹ch chuyá»ƒn theo trá»¥c x (-1, 0, 1).
     int y = rand() % 2 - rand() % 2; // Dá»‹ch chuyá»ƒn theo trá»¥c y (-1, 0, 1).
     ```

5. **Kiá»ƒm tra há»£p lá»‡:**
   - Náº¿u Ã´ má»›i náº±m ngoÃ i biÃªn hoáº·c Ä‘Ã£ cÃ³ tÆ°á»ng, bá» qua:
     ```cpp
     if (x < 0 || x > 32 || y < 1 || y > 18 || map_of_level[i + x][j + y]) continue;
     ```

6. **Gá»i Ä‘á»‡ quy:**
   - Náº¿u há»£p lá»‡, hÃ m Ä‘Æ°á»£c gá»i láº¡i Ä‘á»ƒ má»Ÿ rá»™ng cáº¥u trÃºc tÆ°á»ng:
     ```cpp
     dfs_map(i + x, j + y, map_of_level, ++total, max_total);
     ```

---

#### **Logic kiá»ƒm tra khoáº£ng cÃ¡ch:**

Trong hÃ m `map_khoi_dong`, logic kiá»ƒm tra khoáº£ng cÃ¡ch giá»¯a nhÃ¢n váº­t chÃ­nh vÃ  Ä‘á»‹ch Ä‘Æ°á»£c triá»ƒn khai nhÆ° sau:

```cpp
while (mapp[x][y] > 0 || sqrt((cx - x) * (cx - x) + (cy - y) * (cy - y)) < 9);
```
---
#### [GÃ¡n Ä‘á»‘i tÆ°á»£ng vÃ o báº£n Ä‘á»“:](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/co_che.cpp#L109-L139)
Sau khi báº£n Ä‘á»“ Ä‘Æ°á»£c táº¡o, cÃ¡c Ä‘á»‘i tÆ°á»£ng (nhÃ¢n váº­t, Ä‘á»‹ch, vÃ  tÆ°á»ng) Ä‘Æ°á»£c khá»Ÿi táº¡o vÃ  thÃªm vÃ o danh sÃ¡ch Ä‘á»‘i tÆ°á»£ng tÆ°Æ¡ng á»©ng (`make_enemy`, `make_obj`). Äiá»u nÃ y giÃºp dá»… dÃ ng quáº£n lÃ½ vÃ  hiá»ƒn thá»‹ cÃ¡c Ä‘á»‘i tÆ°á»£ng trong mÃ n chÆ¡i.

#### Vai trÃ² vÃ  cÆ¡ cháº¿ nÃ¢ng cáº¥p:
- **NhÃ¢n váº­t chÃ­nh:** LuÃ´n khá»Ÿi Ä‘áº§u vá»›i gÃ³c 270 Ä‘á»™ vÃ  Ä‘Æ°á»£c thÆ°á»Ÿng thÃªm máº¡ng má»—i level.
- **Äá»‹ch:** TÄƒng sá»‘ lÆ°á»£ng vÃ  hÃ nh vi linh hoáº¡t khi level cao.
- **TÆ°á»ng:** Sá»‘ lÆ°á»£ng tÆ°á»ng tÄƒng theo level, Ä‘Ã²i há»i ngÆ°á»i chÆ¡i pháº£i phÃ¡ há»§y Ä‘á»ƒ má»Ÿ Ä‘Æ°á»ng di chuyá»ƒn.

#### Äiá»ƒm ná»•i báº­t cá»§a cÆ¡ cháº¿ khá»Ÿi táº¡o:
- **Sá»± ngáº«u nhiÃªn:** Má»—i mÃ n chÆ¡i mang láº¡i tráº£i nghiá»‡m má»›i, khÃ´ng láº·p láº¡i, giÃºp ngÆ°á»i chÆ¡i khÃ´ng nhÃ m chÃ¡n.
- **Chiáº¿n thuáº­t:** TÆ°á»ng Ä‘Æ°á»£c Ä‘áº·t thÃ´ng minh Ä‘á»ƒ táº¡o thá»­ thÃ¡ch, káº¿t há»£p vá»›i vá»‹ trÃ­ káº» Ä‘á»‹ch Ä‘á»ƒ ngÆ°á»i chÆ¡i pháº£i suy nghÄ© ká»¹ trÆ°á»›c khi hÃ nh Ä‘á»™ng.
- **Hiá»‡u quáº£:** CÃ¡ch tá»• chá»©c mÃ£ nguá»“n giÃºp quáº£n lÃ½ Ä‘á»‘i tÆ°á»£ng dá»… dÃ ng, má»Ÿ rá»™ng logic cho cÃ¡c cáº¥p Ä‘á»™ khÃ³ hÆ¡n.

### [TÆ°Æ¡ng tÃ¡c cá»§a Ä‘á»‘i tÆ°á»£ng - xem code](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/act.cpp)

#### **[1. HÃ m `kiem_tra_va_cham`](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/act.cpp#L72-L199)**

HÃ m nÃ y kiá»ƒm tra va cháº¡m cá»§a má»™t Ä‘á»‘i tÆ°á»£ng `obj` vá»›i cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ¡c nhÆ° nhÃ¢n váº­t chÃ­nh, káº» Ä‘á»‹ch, vÃ  tÆ°á»ng trong báº£n Ä‘á»“. ÄÃ¢y lÃ  logic quan trá»ng Ä‘á»ƒ Ä‘áº£m báº£o cÃ¡c hÃ nh Ä‘á»™ng trong game diá»…n ra chÃ­nh xÃ¡c.

**CÃ¡ch hoáº¡t Ä‘á»™ng:**
1.1. **Kiá»ƒm tra giá»›i háº¡n mÃ n hÃ¬nh:**
   - Náº¿u Ä‘á»‘i tÆ°á»£ng `obj` vÆ°á»£t ra khá»i giá»›i háº¡n mÃ n hÃ¬nh, hÃ m sáº½ tráº£ vá» `true` (Ä‘Ã£ va cháº¡m).
     ```cpp
     if(x<0 || x+w>1320 || y<40 || y+h>760) {
         return true;
     }
     ```

1.2. **Chuyá»ƒn Ä‘á»•i tá»a Ä‘á»™ sang lÆ°á»›i báº£n Ä‘á»“:**
   - Tá»a Ä‘á»™ cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c quy Ä‘á»•i sang Ã´ lÆ°á»›i (`40x40`) trÃªn báº£n Ä‘á»“.
     ```cpp
     w = (x + w - 1) / 40;
     h = (y + h - 1) / 40;
     x /= 40; 
     y /= 40;
     ```

1.3. **Kiá»ƒm tra va cháº¡m vá»›i tÆ°á»ng:**
   - Náº¿u báº¥t ká»³ Ã´ nÃ o trong lÆ°á»›i cÃ³ giÃ¡ trá»‹ `< 0` (tÆ°á»ng), hÃ m tráº£ vá» `true`.
     ```cpp
     if(bfs_map[x][y] < 0 || bfs_map[x][h] < 0 || bfs_map[w][y] < 0 || bfs_map[w][h] < 0) {
         return true;
     }
     ```

1.4. **Kiá»ƒm tra va cháº¡m vá»›i nhÃ¢n váº­t chÃ­nh:**
   - Náº¿u `obj` khÃ´ng pháº£i nhÃ¢n váº­t chÃ­nh, hÃ m kiá»ƒm tra va cháº¡m trá»±c tiáº¿p báº±ng `tiep_xuc`.
     ```cpp
     if(obj.id != player.id) {
         if(obj.tiep_xuc(player)) return true;
     }
     ```

1.5. **Kiá»ƒm tra va cháº¡m vá»›i káº» Ä‘á»‹ch:**
   - Duyá»‡t qua danh sÃ¡ch káº» Ä‘á»‹ch (`enemy_list`) Ä‘á»ƒ kiá»ƒm tra va cháº¡m. Náº¿u `obj` cháº¡m vÃ o báº¥t ká»³ káº» Ä‘á»‹ch nÃ o (trá»« Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ bá»‹ loáº¡i bá» `id = -1`), hÃ m tráº£ vá» `true`.

#### **[2. HÃ m `kiem_tra_duong_dan`:](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/act.cpp#L340-L385)**

HÃ m nÃ y kiá»ƒm tra Ä‘Æ°á»ng Ä‘i cá»§a má»™t Ä‘á»‘i tÆ°á»£ng `obj` nhÆ° Ä‘áº¡n, bao gá»“m va cháº¡m vá»›i tÆ°á»ng, nhÃ¢n váº­t chÃ­nh, hoáº·c káº» Ä‘á»‹ch.

**CÃ¡ch hoáº¡t Ä‘á»™ng:**
2.1. **Kiá»ƒm tra giá»›i háº¡n mÃ n hÃ¬nh:**
   - TÆ°Æ¡ng tá»± nhÆ° hÃ m `kiem_tra_va_cham`, náº¿u Ä‘á»‘i tÆ°á»£ng vÆ°á»£t khá»i giá»›i háº¡n, tráº£ vá» `true`.
     ```cpp
     if(x<0 || x+w>1320 || y<40 || y+h>760) {
         return true;
     }
     ```

2.2. **Kiá»ƒm tra va cháº¡m vá»›i tÆ°á»ng:**
   - Giáº£m `defense` cá»§a tÆ°á»ng khi Ä‘áº¡n va cháº¡m vÃ o. Náº¿u `defense` giáº£m vá» 0, tÆ°á»ng sáº½ bá»‹ phÃ¡ há»§y.
     ```cpp
     if(wall_map[x][y] > 0) {
         ans = true;
         wall_list[wall_map[x][y]].defense -= 1;
     }
     ```

2.3. **Kiá»ƒm tra va cháº¡m vá»›i nhÃ¢n váº­t chÃ­nh:**
   - Náº¿u Ä‘áº¡n khÃ´ng cÃ¹ng thuá»™c tÃ­nh vá»›i nhÃ¢n váº­t chÃ­nh vÃ  xáº£y ra va cháº¡m, `defense` cá»§a nhÃ¢n váº­t giáº£m Ä‘i 1.
     ```cpp
     if(obj.attribute != player.attribute) {
         if(obj.tiep_xuc(player)) {
             ans = true;
             player.defense -= 1;
         }
     }
     ```

2.4. **Kiá»ƒm tra va cháº¡m vá»›i káº» Ä‘á»‹ch:**
   - Náº¿u Ä‘áº¡n cháº¡m vÃ o káº» Ä‘á»‹ch cÃ³ thuá»™c tÃ­nh khÃ¡c, káº» Ä‘á»‹ch sáº½ bá»‹ xÃ³a (`id = -2`) vÃ  tráº£ vá» `true`.
     ```cpp
     if((enemy_list[i].attribute != obj.attribute) && obj.tiep_xuc(enemy_list[i])) {
         enemy_list[i].id = -2;
         ans = true;
     }
     ```

#### **[3. HÃ m `cham_tuong`:](https://github.com/dinhkien0701/battle-of-tank/blob/main/source_code/ui/act.cpp#L387-L389)**

HÃ m kiá»ƒm tra xem má»™t tá»a Ä‘á»™ `(x, y)` cÃ³ cháº¡m pháº£i tÆ°á»ng trong báº£n Ä‘á»“ BFS (`bfs_map`) hay khÃ´ng.

**CÃ¡ch hoáº¡t Ä‘á»™ng:**
**Kiá»ƒm tra giÃ¡ trá»‹ BFS:**
   - Náº¿u giÃ¡ trá»‹ táº¡i vá»‹ trÃ­ `(x / 40, y / 40)` nhá» hÆ¡n `0`, hÃ m tráº£ vá» `true` (Ä‘Ã£ cháº¡m tÆ°á»ng).
     ```cpp
     return bfs_map[x / 40][y / 40] < 0;
     ```

---

### **Ã nghÄ©a vÃ  vai trÃ² cá»§a cÃ¡c hÃ m:**

1. **`kiem_tra_va_cham`:**
   - Äáº£m báº£o cÃ¡c Ä‘á»‘i tÆ°á»£ng trong game khÃ´ng vÆ°á»£t giá»›i háº¡n hoáº·c va cháº¡m khÃ´ng mong muá»‘n. 
   - Quáº£n lÃ½ tráº¡ng thÃ¡i cá»§a Ä‘á»‘i tÆ°á»£ng, vÃ­ dá»¥ nhÆ° loáº¡i bá» Ä‘á»‹ch khi cÃ³ va cháº¡m.

2. **`kiem_tra_duong_dan`:**
   - LÃ m rÃµ cÃ¡ch cÃ¡c váº­t thá»ƒ di chuyá»ƒn vÃ  tÆ°Æ¡ng tÃ¡c (Ä‘áº¡n, tÆ°á»ng, nhÃ¢n váº­t). 
   - Táº¡o cÆ¡ cháº¿ phÃ¡ há»§y tÆ°á»ng vÃ  giáº£m máº¡ng khi bá»‹ báº¯n trÃºng.

3. **`cham_tuong`:**
   - Cung cáº¥p má»™t cÃ¡ch kiá»ƒm tra nhanh Ä‘á»ƒ xÃ¡c Ä‘á»‹nh xem Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ di chuyá»ƒn vÃ o má»™t vá»‹ trÃ­ cá»¥ thá»ƒ hay khÃ´ng.

Nhá»¯ng hÃ m nÃ y lÃ  ná»n táº£ng cho cÆ¡ cháº¿ chiáº¿n Ä‘áº¥u vÃ  tÆ°Æ¡ng tÃ¡c trong **Tank Of Battle**, mang láº¡i sá»± phá»©c táº¡p vÃ  tÃ­nh chiáº¿n thuáº­t cao cho trÃ² chÆ¡i. Báº¡n cÃ³ thá»ƒ thÃªm pháº§n nÃ y trá»±c tiáº¿p vÃ o GitHub cá»§a mÃ¬nh! ğŸš€ğŸ®âœ¨
